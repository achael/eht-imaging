<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Survey &mdash; ehtim 1.2.6 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Vex" href="vex.html" />
    <link rel="prev" title="Statistics" href="statistics.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> ehtim
          </a>
              <div class="version">
                1.2.6
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="image.html">Image</a></li>
<li class="toctree-l1"><a class="reference internal" href="array.html">Array</a></li>
<li class="toctree-l1"><a class="reference internal" href="obsdata.html">Obsdata</a></li>
<li class="toctree-l1"><a class="reference internal" href="movie.html">Movie</a></li>
<li class="toctree-l1"><a class="reference internal" href="model.html">Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="imager.html">Imager</a></li>
<li class="toctree-l1"><a class="reference internal" href="calibration.html">Calibration</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting.html">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="scattering.html">Scattering</a></li>
<li class="toctree-l1"><a class="reference internal" href="statistics.html">Statistics</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Survey</a></li>
<li class="toctree-l1"><a class="reference internal" href="vex.html">Vex</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ehtim</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Survey</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/survey.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <span class="target" id="module-survey"></span><section id="survey">
<span id="id1"></span><h1>Survey<a class="headerlink" href="#survey" title="Permalink to this heading"></a></h1>
<span class="target" id="module-ehtim.survey"></span><dl class="py class">
<dt class="sig sig-object py" id="ehtim.survey.ParameterSet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ehtim.survey.</span></span><span class="sig-name descname"><span class="pre">ParameterSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paramset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_fixed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ehtim/survey.html#ParameterSet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ehtim.survey.ParameterSet" title="Permalink to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="ehtim.survey.ParameterSet.paramset">
<span class="sig-name descname"><span class="pre">paramset</span></span><a class="headerlink" href="#ehtim.survey.ParameterSet.paramset" title="Permalink to this definition"></a></dt>
<dd><p>dict containing single parameter set. Each key in dict becomes its own attribute</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ehtim.survey.ParameterSet.params_fixed">
<span class="sig-name descname"><span class="pre">params_fixed</span></span><a class="headerlink" href="#ehtim.survey.ParameterSet.params_fixed" title="Permalink to this definition"></a></dt>
<dd><p>dict containing non-varying parameters. Each key in dict becomes its own attribute</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ehtim.survey.ParameterSet.outfile">
<span class="sig-name descname"><span class="pre">outfile</span></span><a class="headerlink" href="#ehtim.survey.ParameterSet.outfile" title="Permalink to this definition"></a></dt>
<dd><p>base of outfile with 7 digit index of pset added to it</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ehtim.survey.ParameterSet.obs">
<span class="sig-name descname"><span class="pre">obs</span></span><a class="headerlink" href="#ehtim.survey.ParameterSet.obs" title="Permalink to this definition"></a></dt>
<dd><p>observation object from input uvfits file, generated by load_data()</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="obsdata.html#ehtim.obsdata.Obsdata" title="ehtim.obsdata.Obsdata">Obsdata</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ehtim.survey.ParameterSet.zbl_tot">
<span class="sig-name descname"><span class="pre">zbl_tot</span></span><a class="headerlink" href="#ehtim.survey.ParameterSet.zbl_tot" title="Permalink to this definition"></a></dt>
<dd><p>flux on ALMA-APEX baseline, generated in preimcal()</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ehtim.survey.ParameterSet.obs_sc_init">
<span class="sig-name descname"><span class="pre">obs_sc_init</span></span><a class="headerlink" href="#ehtim.survey.ParameterSet.obs_sc_init" title="Permalink to this definition"></a></dt>
<dd><p>original observation with systematic noise added, reverse taper applied, and extended flux removed</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="obsdata.html#ehtim.obsdata.Obsdata" title="ehtim.obsdata.Obsdata">Obsdata</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ehtim.survey.ParameterSet.obs_sc">
<span class="sig-name descname"><span class="pre">obs_sc</span></span><a class="headerlink" href="#ehtim.survey.ParameterSet.obs_sc" title="Permalink to this definition"></a></dt>
<dd><p>obs_sc_init after all rounds of self-calibration</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="obsdata.html#ehtim.obsdata.Obsdata" title="ehtim.obsdata.Obsdata">Obsdata</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ehtim.survey.ParameterSet.initimg">
<span class="sig-name descname"><span class="pre">initimg</span></span><a class="headerlink" href="#ehtim.survey.ParameterSet.initimg" title="Permalink to this definition"></a></dt>
<dd><p>prior/initial image</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="image.html#ehtim.image.Image" title="ehtim.image.Image">Image</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ehtim.survey.ParameterSet.im_out">
<span class="sig-name descname"><span class="pre">im_out</span></span><a class="headerlink" href="#ehtim.survey.ParameterSet.im_out" title="Permalink to this definition"></a></dt>
<dd><p>final reconstructed image</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="image.html#ehtim.image.Image" title="ehtim.image.Image">Image</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ehtim.survey.ParameterSet.im_addcmp">
<span class="sig-name descname"><span class="pre">im_addcmp</span></span><a class="headerlink" href="#ehtim.survey.ParameterSet.im_addcmp" title="Permalink to this definition"></a></dt>
<dd><p>final reconstructed image with extended flux added back in</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="image.html#ehtim.image.Image" title="ehtim.image.Image">Image</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ehtim.survey.ParameterSet.obs_sc_addcmp">
<span class="sig-name descname"><span class="pre">obs_sc_addcmp</span></span><a class="headerlink" href="#ehtim.survey.ParameterSet.obs_sc_addcmp" title="Permalink to this definition"></a></dt>
<dd><p>original observation self-calibrated with im_addcmp</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="obsdata.html#ehtim.obsdata.Obsdata" title="ehtim.obsdata.Obsdata">Obsdata</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ehtim.survey.ParameterSet.caltab">
<span class="sig-name descname"><span class="pre">caltab</span></span><a class="headerlink" href="#ehtim.survey.ParameterSet.caltab" title="Permalink to this definition"></a></dt>
<dd><p>final calibration table associated with im_out</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="calibration.html#ehtim.caltable.Caltable" title="ehtim.caltable.Caltable">Caltable</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ehtim.survey.ParameterSet.init_img">
<span class="sig-name descname"><span class="pre">init_img</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ehtim/survey.html#ParameterSet.init_img"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ehtim.survey.ParameterSet.init_img" title="Permalink to this definition"></a></dt>
<dd><p>Creates initial/prior image. Only gaussian prior option at present, but creates prior attritubute self.initimg
using self.zbl and self.prior_fwhm</p>
<blockquote>
<div><p>Args:</p>
<p>Returns:</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ehtim.survey.ParameterSet.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ehtim/survey.html#ParameterSet.load_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ehtim.survey.ParameterSet.load_data" title="Permalink to this definition"></a></dt>
<dd><p>Loads in uvfits file from self.infile into eht-imaging obs object and averages using self.avg_time
Creates self.obs</p>
<blockquote>
<div><p>Args:</p>
<p>Returns:</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ehtim.survey.ParameterSet.make_img">
<span class="sig-name descname"><span class="pre">make_img</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ehtim/survey.html#ParameterSet.make_img"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ehtim.survey.ParameterSet.make_img" title="Permalink to this definition"></a></dt>
<dd><p>Reconstructs image with specified parameters (data weights, amount of self-cal, etc) described in paramset dict
Creates attributes self.im_out containing the final image and self.caltab containing a corresponding calibration
table object for the final image</p>
<blockquote>
<div><p>Args:</p>
<p>Returns:</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ehtim.survey.ParameterSet.output_results">
<span class="sig-name descname"><span class="pre">output_results</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ehtim/survey.html#ParameterSet.output_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ehtim.survey.ParameterSet.output_results" title="Permalink to this definition"></a></dt>
<dd><p>Outputs all requested files pertaining to final image</p>
<blockquote>
<div><p>Args:</p>
<p>Returns:</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ehtim.survey.ParameterSet.preimcal">
<span class="sig-name descname"><span class="pre">preimcal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ehtim/survey.html#ParameterSet.preimcal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ehtim.survey.ParameterSet.preimcal" title="Permalink to this definition"></a></dt>
<dd><p>Applies pre-imaging calibration to self.obs. This includes flagging sites with no measurements, rescaling
short baselines so only compact flux is being imaged, applying a u-v taper, and adding extra sys noise. Creates
self.obs_sc which will have self-cal applied in future steps and self.obs_sc_init which is a copy of the initial
preimcal observation</p>
<blockquote>
<div><p>Args:</p>
<p>Returns:</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ehtim.survey.ParameterSet.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ehtim/survey.html#ParameterSet.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ehtim.survey.ParameterSet.run" title="Permalink to this definition"></a></dt>
<dd><p>Run imaging pipeline for one parameter set.</p>
<blockquote>
<div><p>Args:</p>
<p>Returns:</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ehtim.survey.ParameterSet.save_params">
<span class="sig-name descname"><span class="pre">save_params</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ehtim/survey.html#ParameterSet.save_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ehtim.survey.ParameterSet.save_params" title="Permalink to this definition"></a></dt>
<dd><p>Saves a csv file with parameter set details</p>
<blockquote>
<div><p>Args:</p>
<p>Returns:</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ehtim.survey.ParameterSet.save_statistics">
<span class="sig-name descname"><span class="pre">save_statistics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ehtim/survey.html#ParameterSet.save_statistics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ehtim.survey.ParameterSet.save_statistics" title="Permalink to this definition"></a></dt>
<dd><p>Saves a csv file with the following statistics:
chi^2 closure phase, logcamp, vis wrt the original observation
chi^2 vis wrt to original observation with self-cal to final image applied
chi^2 closure phase, logcamp, vis wrt the original observation with sys noise and self-cal applied</p>
<blockquote>
<div><p>Args:</p>
<p>Returns:</p>
</div></blockquote>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ehtim.survey.create_params_fixed">
<span class="sig-prename descclassname"><span class="pre">ehtim.survey.</span></span><span class="sig-name descname"><span class="pre">create_params_fixed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile_base</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ground_truth_img</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'None'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_imgsums</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_uvfits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_pdf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_stats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_caltab</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nproc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'multiprocessing'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ttype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'nfft'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selfcal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gaintol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.02,</span> <span class="pre">0.2]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">niter_static</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blurfrac</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fov</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">npixels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">64</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse_taper_uas</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uv_zblcut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">SEFD_error_budget</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'AA':</span> <span class="pre">0.1,</span> <span class="pre">'AX':</span> <span class="pre">0.1,</span> <span class="pre">'GL':</span> <span class="pre">0.1,</span> <span class="pre">'LM':</span> <span class="pre">0.1,</span> <span class="pre">'MG':</span> <span class="pre">0.1,</span> <span class="pre">'MM':</span> <span class="pre">0.1,</span> <span class="pre">'PV':</span> <span class="pre">0.1,</span> <span class="pre">'SW':</span> <span class="pre">0.1}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ehtim/survey.html#create_params_fixed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ehtim.survey.create_params_fixed" title="Permalink to this definition"></a></dt>
<dd><p>Create a dict for all non-varying survery parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>infile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – path to input uvfits observation file</p></li>
<li><p><strong>outfile_base</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – name of base filename for all outputs</p></li>
<li><p><strong>outpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – path to directory where all outputs should be stored</p></li>
<li><p><strong>ground_truth_img</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – if applicable, path to ground truth fits file</p></li>
<li><p><strong>save_imgsums</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – save summary pdf for each image</p></li>
<li><p><strong>save_uvfits</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – save final self-cal observation to uvfits file</p></li>
<li><p><strong>save_pdf</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – save pdf of each image</p></li>
<li><p><strong>save_stats</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – save csv file containing statistics for each image</p></li>
<li><p><strong>save_caltab</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – save a calibration table for each image</p></li>
<li><p><strong>nproc</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – number of parallel processes</p></li>
<li><p><strong>backend</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – either ‘multiprocessing’ or ‘ray’</p></li>
<li><p><strong>ttype</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – “fast” or “nfft” or “direct”</p></li>
<li><p><strong>overwrite</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – if True, write over existing files with same names - else, skip parameter set</p></li>
<li><p><strong>selfcal</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – perform self-calibration steps during imaging</p></li>
<li><p><strong>gaintol</strong> (<em>array</em>) – tolerance for gains to be under/over unity respectively during self-cal</p></li>
<li><p><strong>niter_static</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – number of iterations for each imaging step</p></li>
<li><p><strong>blurfrac</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – factor to blur initial image between iterations</p></li>
<li><p><strong>maxit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – maximum number of iterations if image does not converge</p></li>
<li><p><strong>stop</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – convergence criterion for imaging</p></li>
<li><p><strong>fov</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – image field of view in uas</p></li>
<li><p><strong>npixels</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – number of image pixels</p></li>
<li><p><strong>reverse_taper_uas</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – fwhm of gassuain in uas to reverse taper observation</p></li>
<li><p><strong>uv_zblcut</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – maximum uv-distance to which is considered short baseline flux</p></li>
<li><p><strong>SEFD_error_budget</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – SEFD percentage error for each station</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>dict containing all non-varying survery parameters</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ehtim.survey.create_survey_psets">
<span class="sig-prename descclassname"><span class="pre">ehtim.survey.</span></span><span class="sig-name descname"><span class="pre">create_survey_psets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.6]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sys_noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.02]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">avg_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['scan']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prior_fwhm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[40]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sc_phase</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xdw_phase</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[10]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sc_ap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xdw_ap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.2]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cphase</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logcamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simple</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tv2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsilon_tv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1e-10]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ehtim/survey.html#create_survey_psets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ehtim.survey.create_survey_psets" title="Permalink to this definition"></a></dt>
<dd><p>Create a dataframe given all survey parameters. Default values will create an example dataframe but these values should be adjusted for each specific observation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>zbl</strong> (<em>array</em>) – compact flux value (Jy)</p></li>
<li><p><strong>sys_noise</strong> (<em>array</em>) – percent addition of systematic noise</p></li>
<li><p><strong>avg_time</strong> (<em>array</em>) – in seconds or ‘scan’ for scan averaging</p></li>
<li><p><strong>prior_fwhm</strong> (<em>array</em>) – fwhm of gaussian prior in uas</p></li>
<li><p><strong>sc_phase</strong> (<em>array</em>) – number of iterations to perform phase-only self-cal</p></li>
<li><p><strong>xdw_phase</strong> (<em>array</em>) – multiplicative factor for data weights after one round of phase-only self-cal</p></li>
<li><p><strong>sc_ap</strong> (<em>array</em>) – number of iterations to perform amp+phase self-cal</p></li>
<li><p><strong>xdw_ap</strong> (<em>array</em>) – multiplicative factor for data weights after one round of amp+phase self-cal</p></li>
<li><p><strong>amp</strong> (<em>array</em>) – data weight to be placed on amplitudes</p></li>
<li><p><strong>cphase</strong> (<em>array</em>) – data weight to be placed on closure phases</p></li>
<li><p><strong>logcamp</strong> (<em>array</em>) – data weight to be placed on log closure amplitudes</p></li>
<li><p><strong>simple</strong> (<em>array</em>) – regularizer weight for relative entropy, favoring similarity to prior image</p></li>
<li><p><strong>l1</strong> (<em>array</em>) – regularizer weight for l1 norm, favoring image sparsity</p></li>
<li><p><strong>tv</strong> (<em>array</em>) – regularizer weight for total variation, favoring sharp edges</p></li>
<li><p><strong>tv2</strong> (<em>array</em>) – regularizer weight for total squared variation, favoring smooth edges</p></li>
<li><p><strong>flux</strong> (<em>array</em>) – regularizer weight for total flux density, favoring final images with flux close to zbl</p></li>
<li><p><strong>epsilon_tv</strong> (<em>array</em>) – epsilon value used in definition of total variation - rarely need to change this</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas DataFrame containing all combination of parameter sets along with index values</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(DataFrame)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ehtim.survey.run_pset">
<span class="sig-prename descclassname"><span class="pre">ehtim.survey.</span></span><span class="sig-name descname"><span class="pre">run_pset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">system_kwargs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_fixed</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ehtim/survey.html#run_pset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ehtim.survey.run_pset" title="Permalink to this definition"></a></dt>
<dd><p>Run imaging for one parameter set. Not to be used individually, but called in map function for run_survey</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>pset (dict): A dict containing single parameter set
params_fixed (dict): A dict containing non-varying parameters</p>
</dd>
</dl>
<p>Returns:</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ehtim.survey.run_survey">
<span class="sig-prename descclassname"><span class="pre">ehtim.survey.</span></span><span class="sig-name descname"><span class="pre">run_survey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">psets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_fixed</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ehtim/survey.html#run_survey"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ehtim.survey.run_survey" title="Permalink to this definition"></a></dt>
<dd><p>Run survey for all parameter sets using paramsurvey</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>psets</strong> (<em>DataFrame</em>) – A pandas DataFrame containing all parameter sets</p></li>
<li><p><strong>params_fixed</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – A dict containing non-varying parameters</p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="statistics.html" class="btn btn-neutral float-left" title="Statistics" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="vex.html" class="btn btn-neutral float-right" title="Vex" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Andrew Chael.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>